{"expireTime":9007200862624538000,"key":"transformer-remark-markdown-html-ast-52b37747183fb6dcca2f531f98e8887d-gatsby-remark-imagesgatsby-remark-katexgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Recently, I created a blog and a personal webpage using Gatsby.\nThis is a summary how to deploy Gatsby pages to Github.\nI followed the instruction at ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":4,"column":31,"offset":153}}},{"type":"element","tagName":"a","properties":{"href":"https://www.gatsbyjs.com/docs/how-gatsby-works-with-github-pages/"},"children":[{"type":"text","value":"here","position":{"start":{"line":4,"column":32,"offset":154},"end":{"line":4,"column":36,"offset":158}}}],"position":{"start":{"line":4,"column":31,"offset":153},"end":{"line":4,"column":104,"offset":226}}},{"type":"text","value":".","position":{"start":{"line":4,"column":104,"offset":226},"end":{"line":4,"column":105,"offset":227}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":4,"column":105,"offset":227}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install Gatsby","position":{"start":{"line":5,"column":5,"offset":232},"end":{"line":5,"column":19,"offset":246}}}],"position":{"start":{"line":5,"column":1,"offset":228},"end":{"line":5,"column":19,"offset":246}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First, install Xcode, npm, node","position":{"start":{"line":6,"column":1,"offset":247},"end":{"line":6,"column":32,"offset":278}}}],"position":{"start":{"line":6,"column":1,"offset":247},"end":{"line":6,"column":32,"offset":278}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">xcode-select --install\nbrew <span class=\"token function\">install</span> node\n<span class=\"token function\">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>","position":{"start":{"line":7,"column":1,"offset":279},"end":{"line":11,"column":4,"offset":412}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then, install Gatsby CLI","position":{"start":{"line":13,"column":1,"offset":414},"end":{"line":13,"column":25,"offset":438}}}],"position":{"start":{"line":13,"column":1,"offset":414},"end":{"line":13,"column":25,"offset":438}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g gatsby-cli</code></pre></div>","position":{"start":{"line":14,"column":1,"offset":439},"end":{"line":16,"column":4,"offset":472}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"/usr/local/lib/node_modules","position":{"start":{"line":17,"column":1,"offset":473},"end":{"line":17,"column":28,"offset":500}}}],"position":{"start":{"line":17,"column":1,"offset":473},"end":{"line":17,"column":28,"offset":500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To update the latest version of node.js, I installed ","position":{"start":{"line":19,"column":1,"offset":502},"end":{"line":19,"column":54,"offset":555}}},{"type":"raw","value":"<code class=\"language-text\">nvm</code>","position":{"start":{"line":19,"column":54,"offset":555},"end":{"line":19,"column":59,"offset":560}}},{"type":"text","value":".","position":{"start":{"line":19,"column":59,"offset":560},"end":{"line":19,"column":60,"offset":561}}}],"position":{"start":{"line":19,"column":1,"offset":502},"end":{"line":19,"column":60,"offset":561}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.35.1/install.sh | bash</code></pre></div>","position":{"start":{"line":20,"column":1,"offset":562},"end":{"line":22,"column":4,"offset":653}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I checked the latest version by ","position":{"start":{"line":23,"column":1,"offset":654},"end":{"line":23,"column":33,"offset":686}}},{"type":"raw","value":"<code class=\"language-text\">nvm ls-remote</code>","position":{"start":{"line":23,"column":33,"offset":686},"end":{"line":23,"column":48,"offset":701}}},{"type":"text","value":" and update it by ","position":{"start":{"line":23,"column":48,"offset":701},"end":{"line":23,"column":66,"offset":719}}},{"type":"raw","value":"<code class=\"language-text\">nvm install [the latest version number]</code>","position":{"start":{"line":23,"column":66,"offset":719},"end":{"line":23,"column":107,"offset":760}}},{"type":"text","value":".","position":{"start":{"line":23,"column":107,"offset":760},"end":{"line":23,"column":108,"offset":761}}}],"position":{"start":{"line":23,"column":1,"offset":654},"end":{"line":23,"column":108,"offset":761}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install the gh-pages package","position":{"start":{"line":25,"column":5,"offset":767},"end":{"line":25,"column":33,"offset":795}}}],"position":{"start":{"line":25,"column":1,"offset":763},"end":{"line":25,"column":33,"offset":795}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> gh-pages</code></pre></div>","position":{"start":{"line":26,"column":1,"offset":796},"end":{"line":28,"column":4,"offset":829}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"During install, I encountered Permission issue. It says “Missing write access to /usr/local/lib/node_modules”. To solve this, I run ","position":{"start":{"line":29,"column":1,"offset":830},"end":{"line":29,"column":133,"offset":962}}}],"position":{"start":{"line":29,"column":1,"offset":830},"end":{"line":29,"column":133,"offset":962}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo chown -R $USER /usr/local/lib/node_modules</code></pre></div>","position":{"start":{"line":30,"column":1,"offset":963},"end":{"line":32,"column":4,"offset":1018}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Start Gatsby","position":{"start":{"line":34,"column":5,"offset":1024},"end":{"line":34,"column":17,"offset":1036}}}],"position":{"start":{"line":34,"column":1,"offset":1020},"end":{"line":34,"column":17,"offset":1036}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Start with ","position":{"start":{"line":36,"column":1,"offset":1038},"end":{"line":36,"column":12,"offset":1049}}}],"position":{"start":{"line":36,"column":1,"offset":1038},"end":{"line":36,"column":12,"offset":1049}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gatsby new blog https://github.com/gatsbyjs/gatsby-starter-hello-world</code></pre></div>","position":{"start":{"line":37,"column":1,"offset":1050},"end":{"line":39,"column":4,"offset":1128}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Configuration","position":{"start":{"line":42,"column":5,"offset":1135},"end":{"line":42,"column":18,"offset":1148}}}],"position":{"start":{"line":42,"column":1,"offset":1131},"end":{"line":42,"column":18,"offset":1148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If Gatsby blog/webpage will be deployed on username.github.io, then","position":{"start":{"line":43,"column":1,"offset":1149},"end":{"line":43,"column":68,"offset":1216}}}],"position":{"start":{"line":43,"column":1,"offset":1149},"end":{"line":43,"column":68,"offset":1216}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"> <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public\"</span></code></pre></div>","position":{"start":{"line":44,"column":1,"offset":1217},"end":{"line":46,"column":4,"offset":1276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If it will be on a repository, then","position":{"start":{"line":48,"column":1,"offset":1278},"end":{"line":48,"column":36,"offset":1313}}}],"position":{"start":{"line":48,"column":1,"offset":1278},"end":{"line":48,"column":36,"offset":1313}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pathPrefix<span class=\"token operator\">:</span> <span class=\"token string\">\"/reponame\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":49,"column":1,"offset":1314},"end":{"line":53,"column":4,"offset":1379}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"and","position":{"start":{"line":54,"column":1,"offset":1380},"end":{"line":54,"column":4,"offset":1383}}}],"position":{"start":{"line":54,"column":1,"offset":1380},"end":{"line":54,"column":4,"offset":1383}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"> <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build --prefix-paths &amp;&amp; gh-pages -d public\"</span></code></pre></div>","position":{"start":{"line":55,"column":1,"offset":1384},"end":{"line":57,"column":4,"offset":1458}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Github Pages Setting","position":{"start":{"line":58,"column":5,"offset":1463},"end":{"line":58,"column":25,"offset":1483}}}],"position":{"start":{"line":58,"column":1,"offset":1459},"end":{"line":58,"column":26,"offset":1484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run ","position":{"start":{"line":60,"column":1,"offset":1486},"end":{"line":60,"column":5,"offset":1490}}},{"type":"raw","value":"<code class=\"language-text\">shell npm run deploy</code>","position":{"start":{"line":60,"column":5,"offset":1490},"end":{"line":60,"column":27,"offset":1512}}},{"type":"text","value":".\nThe public folder is now copied to the gh-pages branch.\nThe last step is to set gh-pages branch as a github page.\nGo Repository -> Setting -> GitHub Pages -> Source and change Branch: Main to Branch: gh-pages.\nAnd click Save. ","position":{"start":{"line":60,"column":27,"offset":1512},"end":{"line":64,"column":17,"offset":1742}}}],"position":{"start":{"line":60,"column":1,"offset":1486},"end":{"line":64,"column":17,"offset":1742}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Plugin for linked files","position":{"start":{"line":66,"column":5,"offset":1748},"end":{"line":66,"column":28,"offset":1771}}}],"position":{"start":{"line":66,"column":1,"offset":1744},"end":{"line":66,"column":28,"offset":1771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whenever we build Gatsby, every file in public folder (so that in gh-pages branch) is removed and newly created.\nSo, it is not easy to manage the attached file for posts.\nTo deal with this issue, I added gatsby-remark-copy-linked-files to the configuration file.","position":{"start":{"line":67,"column":1,"offset":1772},"end":{"line":69,"column":92,"offset":2035}}}],"position":{"start":{"line":67,"column":1,"offset":1772},"end":{"line":69,"column":92,"offset":2035}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-copy-linked-files</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>","position":{"start":{"line":70,"column":1,"offset":2036},"end":{"line":79,"column":4,"offset":2191}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":80,"column":1,"offset":2192}}}}